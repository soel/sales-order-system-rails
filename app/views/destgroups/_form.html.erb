<div class='row'>
  <div class='col-lg-6'>
  <%= form_for(@destgroup) do |f| %>
    <% if @destgroup.errors.any? %>
    <div class="alert alert-danger alert-dismissable">
      <ul>
      <% @destgroup.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
    <% end %>
  </div>
</div>

<div class='row'>
  <div class='col-lg-4'>
    <div class="form-group">
      <%= f.text_field :name, class: 'form-control', autofocus: true, :placeholder => "グループ名"%>
    </div>
  
    <div class="form-group">
      <label>メールアドレスの選択</label>
      <ul>
      <% @destemails.each do |mail| %>
        <li>
          <label>
            <% checked = mail.destgroups.exists?(@destgroup.id) ? true : false %>
            <%= f.check_box 'destemail_ids', { :name => 'destgroup[destemail_ids][]', :checked => checked }, mail.id, nil %>
            <%= mail.email %>
          </label>
        </li>
      <% end %>
      </ul>
    </div>
  
    <div class="actions">
      <%= f.submit '登録する', class: 'btn btn-primary' %>
    </div>
  </div>
</div>
<% end %>

